<div class="wrapper"
     #wrapper>
  <section class="home"
           #section
           data-section="home">
    <div class="slides">
      <div class="overlay">
        <div class="cta">
          <h1>É GRÁTIS</h1>
          <button class="custom-button"
                  (click)="openAuth()">
            ENTRE
          </button>
          <p>Você está a um clique da sua aprovação</p>
        </div>
      </div>
      <div class="animations">
        <img [src]="parallaxImgs[0]"
             class="animate">
        <img [src]="parallaxImgs[1]"
             class="animate">
        <img [src]="parallaxImgs[2]"
             class="animate">
        <img [src]="parallaxImgs[3]"
             class="animate">
      </div>
    </div>
  </section>

  <header>
    <mat-toolbar>
      <div class="logo">
        <app-logo />
      </div>
      <ul>
        @for (link of links(); track $index) {
        <li [ngClass]="{'active': link.isActive}"
            (click)="scrollIntoView(link.anchor)">
          <a mat-basic-button
             (click)="navigate($index)"
             matListItemTitle>
            <fa-icon [icon]="link.icon" />
            &nbsp;
            {{ link.label }}
          </a>
        </li>
        }
        <li class="no-bg">
          <button mat-flat-button
                  type="button"
                  color="primary"
                  (click)="openAuth()">
            <fa-icon [icon]="faBookOpenReader" />
            Estudar
          </button>
        </li>
      </ul>
    </mat-toolbar>
    <hr class="header-footer">
  </header>
  <section class="how-to-use"
           #section
           data-section="como-usar">
    <div class="wrap">
      <div [ngClass]="{'animate': currentSection() === 'how-to-use'}">
        <img src="assets/img/icon1.png">
        <h2>Passo 1</h2>
        <p>Entre com o login do Facebook ou cadastre-se para resolver os simulados.</p>
      </div>
      <div [ngClass]="{'animate': currentSection() === 'how-to-use'}">
        <img src="assets/img/icon2.png">
        <h2>Passo 2</h2>
        <p>Resolva as questões e analise seu desempenho.</p>

      </div>
      <div [ngClass]="{'animate': currentSection() === 'how-to-use'}">
        <img src="assets/img/icon3.jpg">
        <h2>Passo 3 (Opcional)</h2>
        <p>
          Assine e tenha acesso aos vídeos das questões comentadas.
        </p>
      </div>
      <div [ngClass]="{'animate': currentSection() === 'how-to-use'}">
        <img src="assets/img/icon4.jpg">
        <h2>Passo 4</h2>
        <p>Sem dúvida, você será aprovado.</p>
      </div>
    </div>
    <div class="carousel">
      <app-carousel [images]="carouselImgs" />
    </div>
  </section>


  <section class="evolution"
           #section
           data-section="progrida">
    <h2>
      <fa-icon [icon]="faChartLine" />
      Progrida
    </h2>
    @if (graphsAnimationPlayed() === true) {
    <div class="wrap">
      <div class="animate">
        <canvas baseChart
                class="chart"
                [data]="firstDoughnutChartData"
                [type]="doughnutChartType"
                [options]="doughnutChartOptions"
                width="200"
                height="200">
        </canvas>
        <h4>Desempenho por disciplina</h4>
        <p>Questões resolvidas, acertos,
          erros e aproveitamento.</p>
      </div>
      <div class="animate">
        <canvas baseChart
                class="chart"
                [data]="secondDoughnutChartData"
                [type]="doughnutChartType"
                [options]="doughnutChartOptions"
                width="200"
                height="200">
        </canvas>
        <h4>Desempenho por concurso (Simulados)</h4>
        <p>Simulados organizados
          com base nos editais dos concursos</p>

      </div>
      <div class="animate">
        <canvas baseChart
                class="chart"
                [data]="thirdDoughnutChartData"
                [type]="doughnutChartType"
                [options]="doughnutChartOptions"
                width="200"
                height="200">
        </canvas>
        <h4>Aproveitamento</h4>
        <p>
          Conheça seus pontos fracos
          e estude de maneira orientada.
        </p>
      </div>
      <div class="animate">
        <canvas baseChart
                class="chart"
                [data]="fourthDoughnutChartData"
                [type]="doughnutChartType"
                [options]="doughnutChartOptions"
                width="200"
                height="200">
        </canvas>
        <h4>Resultado</h4>
        <p>Estudando de maneira focada
          você garantirá a aprovação.</p>
      </div>
    </div>
    }
  </section>

  <section class="social"
           #section
           data-section="social">
    <div class="content">
      <div class="overlay">

        <div class="cta">
          <iframe src="https://www.facebook.com/plugins/page.php?href=100095672162538"
                  width="340"
                  height="300"
                  style="border:none;overflow:hidden"
                  scrolling="no"
                  frameborder="0"
                  allowfullscreen="true"
                  allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
        </div>
      </div>
    </div>
  </section>

  <!-- <section class="buy"
           #section
           data-section="assinar">
  </section> -->

  <section class="contact"
           #section
           data-section="contato">
    <h2>
      <fa-icon [icon]="faMessage" />
      Entre em contato
    </h2>
    <form [formGroup]="form">
      <div class="form-field-pair-wrap">
        <mat-form-field appearance="outline">
          <mat-label>Nome</mat-label>
          <span matTextPrefix><fa-icon [icon]="faFont"></fa-icon> &nbsp;</span>
          <input matInput
                 type="text"
                 placeholder="Seu Nome Completo"
                 maxlength="100"
                 formControlName="name">
          @if (form.controls['name'].touched && form.controls['name'].invalid) {
          <div>
            @if (form.controls['name'].hasError('required')) {
            <mat-error>Insira seu nome completo</mat-error>
            }
            @if (form.controls['name'].hasError('minlength')) {
            <mat-error>O nome deve ter pelo menos 2 caracteres</mat-error>
            }
            @if (form.controls['name'].hasError('maxlength')) {
            <mat-error>O nome deve ter até 100 caracteres</mat-error>
            }
          </div>
          }
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>E-mail</mat-label>
          <span matTextPrefix><fa-icon [icon]="faEnvelope"></fa-icon> &nbsp;</span>
          <input matInput
                 type="email"
                 placeholder="seu@email.com"
                 maxlength="50"
                 formControlName="email">
          @if (form.controls['email'].touched && form.controls['email'].invalid) {
          <div>
            @if (form.controls['email'].hasError('required')) {
            <mat-error>Insira seu e-mail</mat-error>
            }
            @if (form.controls['email'].hasError('minlength')) {
            <mat-error>O e-mail deve ter pelo menos 6 caracteres</mat-error>
            }
            @if (form.controls['email'].hasError('maxlength')) {
            <mat-error>O e-mail deve ter até 50 caracteres</mat-error>
            }
            @if (form.controls['email'].hasError('pattern')) {
            <mat-error>Insira um e-mail válido</mat-error>
            }
          </div>
          }
        </mat-form-field>
      </div>
      <div class="form-field-pair-wrap">
        <mat-form-field appearance="outline">
          <mat-label>Celular</mat-label>
          <span matTextPrefix><fa-icon [icon]="faMobile" /> &nbsp;</span>
          <input matInput
                 type="text"
                 placeholder="(11) 9 9999-9999"
                 maxlength="16"
                 formControlName="phone"
                 [appPhoneBr]="true"
                 [phoneType]="'celphone'">
          @if (form.controls['phone'].touched && form.controls['phone'].invalid) {
          <div>
            @if (form.controls['name'].hasError('required')) {
            <mat-error>O celular deve ter código de área e 9 números</mat-error>
            }

          </div>
          }
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Como nos conheceu?</mat-label>
          <span matTextPrefix><fa-icon [icon]="faCircleQuestion" /> &nbsp;</span>
          <mat-select [value]="undefined">
            <mat-option value="facebook">Facebook</mat-option>
            <mat-option value="twitter">X (antigo Twitter)</mat-option>
            <mat-option value="website">Website</mat-option>
            <mat-option value="friends">Conhecidos / Amigos</mat-option>
            <mat-option value="other">Outros</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <button mat-flat-button
              class="submit-button"
              type="button"
              color="primary"
              (click)="onSubmitContactForm()">
        Enviar minha mensagem
        <fa-icon [icon]="faPaperPlane" />
      </button>
    </form>
  </section>
  <app-footer />
</div>
